<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Cache Simulator: Project Outline (Summary of Project Description)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cache Simulator
   &#160;<span id="projectnumber">v1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Project Outline (Summary of Project Description) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>Memory Structure</h3>
<ul>
<li>L1 instruction cache</li>
<li>L1 data cache<ul>
<li>L2 unified cache (inst. &amp; data)<ul>
<li>Main Memory</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Input Traces</h3>
<ul>
<li>stored in gzip format</li>
<li>use zcat command piped to simulator<ul>
<li><code>zcat trace_name.gz | ./executable config_file</code></li>
<li>on OSX it is necessary to use <code>zcat &lt; trace_name.gz</code></li>
</ul>
</li>
</ul>
<h3>Configuration File</h3>
<ul>
<li>at runtime a config file is read to specify cache and memory parameters</li>
<li>config file should be a command line argument</li>
<li>if no config file is given then default paramaters should be used</li>
<li>cache sizes, bus widths and associativity <b>always</b> a power of 2</li>
</ul>
<h3>Main Memory</h3>
<ul>
<li>modeled by a constant delay and bandwidth</li>
<li>in-order processor model i.e. only a single out-standing request to memory system at a time</li>
</ul>
<h3>Cache Organization</h3>
<ul>
<li>caches are <em>write-allocate, write-back</em></li>
<li>8-entry <em>victim cache</em></li>
<li>each cache must maintain a LRU (least recently used) replacement policy<ul>
<li>the least recently used item is discarded first</li>
</ul>
</li>
<li>cache lines are marked as "dirty" if the program has written to that cache entry</li>
<li>on a miss the cache's victim cache is checked before going to the next level or main memory<ul>
<li>the victim cache is an 8 deep LRU stack</li>
<li>if the line is available in the victim cache it is moved to the top of the victim cache stack</li>
<li>the line being removed from the cache is then swapped with the entry at the top of the victim cache</li>
</ul>
</li>
<li>if the miss is not available in the victim cache<ul>
<li>the entry at the bottom of the victim cache is checked to see if it is "dirty"</li>
<li>if the entry is "dirty" then it is <em>written back</em> to the next level of the hierarchy<ul>
<li>the line is written as "dirty" in the level the line is moved to</li>
</ul>
</li>
<li>that line is then moved to the top of the victim cache and overwritten with the line being removed from the cache<ul>
<li>this is the <em>write-allocate</em> portion where room is made in the cache for the new line</li>
</ul>
</li>
<li>the new line is then brought into the cache</li>
</ul>
</li>
<li>a write request only causes the line to be "dirty" on the level that sees the write</li>
<li>after a cache miss<ul>
<li>the miss penalty is added to the execution time</li>
<li>it is necessary to account for the time of adding a new block into the cache<ul>
<li>this is done by adding the hit time of the cache level to the total execution time</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Program Trace Information</h3>
<ul>
<li>the input traces are a sequence of records that contain reference information</li>
<li>format<ul>
<li>Reference type: instruction, data read, data write</li>
<li>Address: memory address in hex - up to 64 bits</li>
<li>Number of bytes: the number of bytes referenced by the request</li>
</ul>
</li>
<li>inst. and data references can fall on any byte boundry -&gt; variable size</li>
<li>an instruction or data reference may generate multiple references to the first-level caches<ul>
<li>there is a 4-byte bus between the processor and the L1 caches</li>
<li>all references to the L1 caches look like they are aligned on 4-byte boundaries</li>
<li>the L1 cache returns ad 4-byte value</li>
</ul>
</li>
<li>available traces<ul>
<li>testing traces: tr1-tr6</li>
<li>testing traces: parts of the production traces</li>
<li>production traces: 6 straces</li>
</ul>
</li>
</ul>
<h3>Program Output</h3>
<ul>
<li>output statistics - see example</li>
<li>might want to do post-processing of data for plotting</li>
<li>debugging info that could be printed: valid, dirty, and tag information</li>
</ul>
<h3>Evaluation</h3>
<ul>
<li>Execution time<ul>
<li>inst. takes 1 cycle</li>
<li>inst. fetch 1 cycle</li>
<li>data fetch 1 cycle (for each reference)</li>
<li><b>note:</b> memory references are not aligned - multiple cache accesses possible</li>
<li>total execution time = 1 cycle per inst. + simulated time to access memory hierarchy + 1 * num data refs</li>
</ul>
</li>
<li>Cost<ul>
<li>L1 cache<ul>
<li>$100 per 4KB</li>
<li>$100 for each doubling of a associativity beyond direct=mapped</li>
<li>cost for doubling the associativity is per 4KB (combined costs are multiplied)</li>
</ul>
</li>
<li>L2 cache<ul>
<li>$50 per 16KB</li>
<li>$50 per doubling of associativity</li>
</ul>
</li>
<li>Main Memory<ul>
<li>$200 to decrease latency by factor of 2</li>
<li>$100 to increase bandwidth by factor of 2</li>
<li>base setup - latency 50 costs $50 + 8-byte bandwidth 25 = $75</li>
</ul>
</li>
<li>program should compute cost based on the memory configuration specified</li>
</ul>
</li>
</ul>
<h3>Memory System Configurations</h3>
<ul>
<li>Default<ul>
<li>8KB direct-mapped Icache, 8KB direct-mapped Dcache, with a unified 32KB direct- mapped Level-2 cache</li>
</ul>
</li>
<li>L1-2way<ul>
<li>8KB two-way set associative Icache, 8KB two-way set associative Dcache, with a uni- fied 32KB direct-mapped Level-2 cache</li>
</ul>
</li>
<li>All-2way<ul>
<li>8KB two-way set associative Icache, 8KB two-way set associative Dcache, with a uni- fied 32KB two-way set associative Level-2 cache</li>
</ul>
</li>
<li>All-4way<ul>
<li>8KB four-way set associative Icache, 8KB four-way set associative Dcache, with a unified 32KB four-way set associative Level-2 cache</li>
</ul>
</li>
<li>L1-8way<ul>
<li>8KB eight-way set associative Icache, 8KB eight-way set associative Dcache, with a unified 32KB direct-mapped Level-2 cache</li>
</ul>
</li>
<li>L1-small<ul>
<li>4KB direct-mapped Icache, 4KB direct-mapped Dcache, with a unified 32KB direct- mapped Level-2 cache</li>
</ul>
</li>
<li>L1-small-4way<ul>
<li>4KB 4-way set associative Icache, 4KB 4-way set associative Dcache, with a unified 32KB direct-mapped Level-2 cache</li>
</ul>
</li>
<li>All-small<ul>
<li>4KB direct-mapped Icache, 4KB direct-mapped Dcache, with a unified 16KB direct- mapped Level-2 cache</li>
</ul>
</li>
<li>All-FA<ul>
<li>Fully Associative 8KB Icache, 8KB Dcache, and 32KB Level-2 cache </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
